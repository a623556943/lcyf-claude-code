---
name: workflows
description: 提供标准化的开发工作流程，确保团队遵循一致的开发流程。当执行 /lcyf-new-feature 命令或需要协调多个 agent 时激活。
---

# 工作流技能

## 文件清单

本 skill 包含以下内容，供 Claude 参考：

### 核心内容
- **3个核心工作流**：
  - 新功能开发流程：4阶段完整流程（需求分析→架构设计→代码实现→知识沉淀）
  - Bug修复流程：4步流程（问题分析→修复代码→验证通过→代码审查）
  - 代码审查流程：规范→逻辑→架构→报告

- **Agent 协作矩阵**：
  - 3种工作流的 Agent 参与者
  - 串行/并行协作方式说明
  - Agent 调用顺序

- **质量门禁标准**：
  - 提交前检查：3项强制检查
  - PR合并条件：3项要求

### 何时加载
- 执行 `/lcyf-new-feature` 命令时
- 需要协调多个 agent 时
- Bug 修复时
- 代码审查时

## 概述

提供标准化的开发工作流程，确保团队遵循一致的开发流程。

## 核心工作流

### 1. 新功能开发流程

```
需求分析 → 架构设计 → 代码实现 → 代码审查 → 知识沉淀
```

#### 详细步骤

```markdown
## 阶段1: 需求分析
- 理解用户需求
- 明确功能边界
- 识别依赖关系

## 阶段2: 架构设计
- 确定技术方案
- 设计API接口
- 规划数据模型

## 阶段3: 代码实现
- 按分层架构实现代码
- 遵循编码规范
- 确保构建通过

## 阶段4: 代码审查
- 代码规范检查
- 逻辑正确性验证
- 性能问题识别

## 阶段5: 知识沉淀
- 提取可复用模式
- 记录问题解决方案
- 更新团队知识库
```

### 2. Bug修复流程

```
问题分析 → 修复代码 → 验证通过 → 代码审查
```

#### 详细步骤

```markdown
## 步骤1: 问题分析
- 复现问题
- 分析根本原因
- 确定影响范围

## 步骤2: 修复代码
- 实现最小修复
- 避免引入新问题

## 步骤3: 验证通过
- 确保构建通过
- 验证问题已修复

## 步骤4: 代码审查
- 检查修复是否正确
- 检查是否有遗漏
```

### 3. 代码审查流程

```
规范检查 → 逻辑审查 → 架构合规 → 生成报告
```

## Agent 协作矩阵

| 工作流 | 参与Agent | 协作方式 |
|--------|-----------|----------|
| 新功能开发 | planner → architect → java-developer → code-reviewer → knowledge-manager | 串行 |
| Bug修复 | java-developer → code-reviewer | 串行 |
| 代码审查 | code-reviewer | 单独 |

## 质量门禁

### 提交前检查

- [ ] 构建通过
- [ ] 代码规范检查通过
- [ ] 无编译错误

### PR合并条件

- [ ] 至少1人审查通过
- [ ] CI检查全部通过
- [ ] 无未解决的评论

## 关联命令

- `/lcyf-new-feature` - 执行新功能开发流程
- `/lcyf-code-review` - 执行审查流程
- `/lcyf-build-fix` - 修复构建错误
- `/lcyf-learn` - 知识沉淀
